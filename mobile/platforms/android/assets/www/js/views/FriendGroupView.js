define(["jquery","backbone","views/BackCollectionView","routers/dispatcher","utils"],function(l,i,k,h,g){var j=k.extend({constructor:function(a){j.__super__.constructor.call(this,a)},initialize:function(){j.__super__.initialize.call(this)},render:function(){this.constructor.__super__.render.call(this);var a="main-head-publish-link";var b=l("#"+a);if(b&&b.length>0){b.css("display","block")}else{var c='<a id="'+a+'" class="top-header ui-btn ui-btn-inline ui-corner-all ui-icon-camera ui-btn-icon-left">晒单</a>';l("#main-head-search-link").after(c);l.mobile.loadPage("share_publish.html",{prefetch:true})}l("#"+a).on("click",function(){var d=h.getRouter("DiscoverRouter");if(d){d.navigate(d.routerPrefix+"?share_publish",{trigger:true,replace:true})}});g.setDomVisibleExcept(l('[data-role="header"].app-header div a'),[a]);l(".friends-img-link").on("click",function(){g.openPopDiv("",l(this))});return this}});return j});