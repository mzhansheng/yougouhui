define(["jquery","backbone","views/BackModelView","utils"],function(b,e,c,a){var d=c.extend({constructor:function(f){d.__super__.constructor.call(this,f)},initialize:function(){d.__super__.initialize.call(this)},render:function(){this.constructor.__super__.render.call(this);a.setDomVisibleExcept(b('[data-role="header"].app-header div a'),[]);this.template=_.template(b("script#activityItem").html(),{activity:this.model});this.$el.find('[role="main"] #activity-content').html(this.template);this.template=_.template(b("script#discussItems").html(),{collection:this.model.get("discusses")});this.$el.find("#activity-discuss-list").html(this.template);this.$el.find("#activity-discuss-list").listview("refresh");return this}});return d});