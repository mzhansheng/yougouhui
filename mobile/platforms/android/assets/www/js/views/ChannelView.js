define(["jquery","backbone","config","routers/dispatcher"],function(i,h,g,j){var f=h.View.extend({initialize:function(){this.collection.on("added",this.render,this)},render:function(){if(this.collection.channelCode=="other"){this.template=_.template(i("script#subChannelItems").html(),{collection:this.collection});var b=j.getRouter("SubChannelRouter");if(b){b.addViews(this.collection.toJSON())}}else{this.template=_.template(i("script#activityItems").html(),{collection:this.collection,baseUrl:g.getBaseUrl()});if(this.collection.parentId){i("#main-back-link").attr("href","#module?homepage");i("#main-back-link").css("display","block");i("#main-head-title").html(this.collection.channelName)}}try{this.$el.find("ul").html(this.template);this.$el.find("[data-role='listview']").listview("refresh")}catch(a){}return this}});return f});