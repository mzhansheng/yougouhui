define(["jquery","collections/ActivityCollection","views/ChannelView"],function(g,h,e){var f=[];return{init:function(a){g.each(a,function(d,c){var b=c.code;var j=new e({el:"#"+b,collection:new h([],{channelCode:b,channelId:c.uuid,channelName:c.name,parentId:c.parent_id})});f.push({id:b,view:j})})},route:function(b){var d=null;for(var c=0;c<f.length;c++){var a=f[c];if(a.id==b){d=a.view;break}}if(!d){return}g.mobile.loading("show");d.collection.fetch({success:function(l,n,m){l.trigger("added")},error:function(){g.mobile.loading("hide");alert("加载活动数据失败.")}}).done(function(){g.mobile.loading("hide")})}}});