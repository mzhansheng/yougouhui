define(["jquery","backbone","models/ActivityModel","views/ActivityView"],function(j,h,f,i){var g=h.Router.extend({initialize:function(){},routes:{"activity?:id":"activity"},activity:function(a){activityView=new i({el:"#activity",model:new f({id:a,title:a})});j.mobile.loading("show");activityView.model.fetch({success:function(b,d,c){b.trigger("added")},error:function(){j.mobile.loading("hide");alert("加载活动数据失败.")}}).done(function(){j.mobile.loading("hide");j.mobile.changePage("#activity",{reverse:false,changeHash:false})})}});return g});