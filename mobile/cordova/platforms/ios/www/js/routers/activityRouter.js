define(["jquery","backbone","models/ActivityModel","views/ActivityView"],function(c,e,b,d){var a=e.Router.extend({initialize:function(){},routes:{"activity?:id":"activity"},activity:function(f){activityView=new d({el:"#activity",model:new b({id:f,title:f})});c.mobile.loading("show");activityView.model.fetch({success:function(i,g,h){i.trigger("added")},error:function(){c.mobile.loading("hide");alert("加载活动数据失败.")}}).done(function(){c.mobile.loading("hide");c.mobile.changePage("#activity",{reverse:false,changeHash:false})})}});return a});