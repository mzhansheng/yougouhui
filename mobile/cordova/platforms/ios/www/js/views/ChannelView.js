define(["jquery","backbone","config","routers/dispatcher"],function(d,e,a,c){var b=e.View.extend({initialize:function(){this.collection.on("added",this.render,this)},render:function(){if(this.collection.channelCode=="other"){this.template=_.template(d("script#subChannelItems").html(),{collection:this.collection});var f=c.getRouter("SubChannelRouter");if(f){f.addViews(this.collection.toJSON())}}else{this.template=_.template(d("script#activityItems").html(),{collection:this.collection,baseUrl:a.getBaseUrl()});if(this.collection.parentId){d("#main-back-link").attr("href","#module?homepage");d("#main-back-link").css("display","block");d("#main-head-title").html(this.collection.channelName)}}try{this.$el.find("ul").html(this.template);this.$el.find("[data-role='listview']").listview("refresh")}catch(g){}return this}});return b});